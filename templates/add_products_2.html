{% extends 'base.html' %}
{% load static %}

{% block contain %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/style2.css' %}">
    <link rel="stylesheet" href="{% static 'css/responsive2.css' %}">
    <link rel="stylesheet" href="{% static 'css/utility2.css' %}">
    <style>
        .add_products {
          display: flex; justify-content: start;
        }
        .total_products {
          display: flex; justify-content: center;
        }
        .filter{
          display: flex; justify-content: end;
        }
      
        .add_products button {
          display: flex; justify-content: center; text-align: center; align-items: center; padding: 3px 10px 6px 10px; border-radius: 10px; color: white; background-color: blue; border: 0px solid black;
        }
        .head th {
            color: darkblue;
        }
        #chosen-image {
            /* display: block; */
            max-height: 30vh;
            max-width: 100%;
            margin-top: 10px;
        }
        .upload-image-button {
            background-color: black;
            color: rgb(248, 233, 99);
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
        }
        .upload-image-button:hover {
            background-color: #8A4AF3;
            color: white;
        }
        .btn:hover {
            background-color: #8A4AF3;
            color: white;
        }
        .image-preview {
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .image-preview2 {
            width: 400px;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .image-upload-container-2 {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }

        .image-upload-container-2 img {
            width: 200px;
            height: 200px;
            object-fit: cover;
            border: 2px solid #ddd;
            border-radius: 4px;
        }

        .dropdown-wrapper {
            position: relative;
            width: 250px;
            font-family: Arial, sans-serif;
        }

        .custom-dropdown {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            border: 1px solid #ccc;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 5px;
        }

        .custom-dropdown:hover {
            border-color: #888;
        }

        .dropdown-options {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            background-color: white;
            border: 1px solid #ccc;
            border-top: none;
            border-radius: 0 0 5px 5px;
            box-shadow: 0px 4px 8px rgba(0,0,0,0.1);
            display: none; /* initially hidden */
            z-index: 10;
        }

        .dropdown-options div {
            padding: 10px 15px;
            cursor: pointer;
        }

        .dropdown-options div:hover {
            background-color: #f2f2f2;
        }

        /* Show options when active */
        .dropdown-wrapper.active .dropdown-options {
            display: block;
        }

        .image-upload-container-2 img {
            width: 200px;
            height: 200px;
            object-fit: contain; 
            border: 1px solid #ccc;
            margin: 5px;
            background-color: #f5f5f5; /* optional */
            display: inline-block;
        }

        /* Embroidery blocks styling */
.image-upload-container-2 {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    margin-top: 15px;
}

.image-item {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.image-item img {
    width: 150px;
    height: 150px;
    object-fit: contain;
    border: 2px solid #ddd;
    border-radius: 8px;
}

/* Dropdown */
.dropdown-wrapper {
    position: relative;
    width: 160px;
    margin-bottom: 8px;
}

.custom-dropdown {
    border: 1px solid #ccc;
    padding: 6px 10px;
    background: #fff;
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-radius: 6px;
}

.dropdown-options {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    max-height: 200px;
    overflow-y: auto;
    border: 1px solid #ccc;
    background: #fff;
    display: none;
    z-index: 1000;
}

.dropdown-options div {
    padding: 8px 10px;
    cursor: pointer;
}

.dropdown-options div:hover {
    background: #f0f0f0;
}

/* Remove Button */
.remove-btn {
    margin-top: 8px;
    padding: 5px 12px;
    border: none;
    background: #dc3545;
    color: #fff;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
}

.remove-btn:hover {
    background: #b52a37;
}


    </style>

    <main id="main" class="main">
        <section id="nomodelConversionWrapper">
            <section class="upload-image-section">
                <div class="card">
                  <div class="card-header">
                    <h2>Upload Product Images</h2>
                  </div>
                  <div class="card-body">
                    <div class="image-upload-container" style="display: flex; flex-direction: row; gap: 30px; flex-wrap: wrap; justify-content: flex-start;">

                        <!-- Main Image Block -->
                        <div style="display: flex; flex-direction: column; align-items: center;">
                          <label style="font-weight: bold;">Dummy Image</label>
                          <img id="mainImagePreview" src="https://fitattirestorage.blob.core.windows.net/fitattire-assets/add-product_placeholder-image.png" width="200" height="200" alt="Main Image" style="margin-bottom: 10px;">
                          <input type="file" id="mainImageInput" accept="image/*" style="display: none;">
                          <label for="mainImageInput" class="upload-image-button"><i class="fas fa-cloud-upload-alt"></i> Upload Dummy Image</label>
                        </div>
                      
                        <!-- Second Image Block -->
                        {% comment %} <div style="display: flex; flex-direction: column; align-items: center;">
                          <label style="font-weight: bold;">Closeup Image</label>
                          <img id="secondImagePreview" src="https://fitattirestorage.blob.core.windows.net/fitattire-assets/add-product_placeholder-image.png" width="200" height="200" alt="Second Image" style="margin-bottom: 10px;">
                          <input type="file" id="secondImageInput" accept="image/*" style="display: none;">
                          <label for="secondImageInput" class="upload-image-button"><i class="fas fa-cloud-upload-alt"></i> Upload Closeup Image</label>
                        </div> {% endcomment %}

                        <div style="display: flex; flex-direction: column; align-items: center; margin-bottom: 5px;">
                          <label style="font-weight: bold;">All Colors Image</label>
                          <img id="allColorsImagePreview" src="https://fitattirestorage.blob.core.windows.net/fitattire-assets/add-product_placeholder-image.png" width="200" height="200" alt="Second Image" style="margin-bottom: 10px;">
                          <input type="file" id="allColorsImageInput" accept="image/*" style="display: none;">
                          <label for="allColorsImageInput" class="upload-image-button"><i class="fas fa-cloud-upload-alt"></i> Upload All Colors Image</label>
                        </div>
                      
                    </div>
                      
                  </div>
                </div>
            </section>
            <section class="upload-image-section">
                <div class="card">
                    <div class="card-header">
                        <h2>Upload Product Colors Images</h2>
                    </div>
                    <div class="card-body">

                        <!-- Upload Button -->
                        <input type="file" id="imageUploadInput" accept="image/*" style="display: none;">
                        <label for="imageUploadInput" class="upload-image-button" style="margin: 10px;">
                            <i class="fas fa-cloud-upload-alt"></i> Upload All colors Image
                        </label>

                        <!-- Uploaded Images Container -->
                        <div id="uploadedImagesContainer" class="image-upload-container-2"></div>

                    </div>
                </div>
            </section>

            <section class="upload-image-section">
                <div class="card">
                    <div class="card-header">
                        <h2>Upload Embroidery Part Images</h2>
                    </div>
                    <div class="card-body">

                        <!-- Upload Button -->
                        <input type="file" id="embroideryImageUploadInput" accept="image/*" multiple style="display: none;">
                        <label for="embroideryImageUploadInput" class="upload-image-button" style="margin: 10px;">
                            <i class="fas fa-cloud-upload-alt"></i> Upload Embroidery Images
                        </label>

                        <!-- Uploaded Images Container -->
                        <div id="embroideryImagesContainer" class="image-upload-container-2"></div>

                    </div>
                </div>
            </section>


              
            <section class="product-details-section" id="product-details">
                <div class="card">
                    <div class="card-header">
                        <h2>Product Details</h2>
                    </div>
                    <div class="card-body">
                        <form class="product-form-nomodel">
                            <div class="form-row">
                                <div class="input-group">
                                    <label for="product-name">Product Name</label>
                                    <input type="text" id="product-name" placeholder="Enter product name" required>
                                </div>
                                <div class="input-group">
                                    <label for="product-id">Product ID</label>
                                    <input type="text" id="product-id" placeholder="Enter brand name" required>
                                </div>
                                <div class="input-group">
                                    <label for="product-fabric">Fabric</label>
                                    <input type="text" id="product-fabric" placeholder="Enter Fabric name" required>
                                </div>
                            </div>
                            <div class="form-row">

                                <div class="input-group">
                                    <label for="product-sizes">Sizes:</label>
                                    <input type="text" id="product-sizes" placeholder="Enter Sizes like: M to L or M to XXL" style="margin-bottom: 8px;" required/>
                                </div>

                                <!-- Custom Dropdown -->
                                <div class="dropdown-wrapper mx-4">
                                    <div class="custom-dropdown" id="dupattaDropdown">
                                        <span class="selected-value-color">Select Dupatta Side</span>
                                        <i class="arrow fas fa-angle-down" style="font-size:24px"></i>
                                    </div>
                                    <div class="dropdown-options">
                                        <div data-value="Left Side Dupatta">Left Side</div>
                                        <div data-value="Right Side Dupatta">Right Side</div>
                                    </div>
                                </div>

                                <!-- Hidden input to store the selected value -->
                                <input type="hidden" name="dupatta_side" id="dupatta_side" required>

                            </div>

                            <div class="form-row">
                                <div class="input-group">
                                    <label for="selling-price">Selling Price</label>
                                    <input type="number" id="selling-price" placeholder="Enter selling price" required>
                                </div>
                                <div class="input-group">
                                    <!-- Empty for alignment -->
                                </div>
                            </div>
    
                            <div class="form-actions mt-4">
                                <button type="button" class="submit-add-products-btn">
                                    <span class="btn-text">Submit Form</span>
                                    <span class="btn-spinner loader" style="display: none; margin-left: 8px;"></span>
                                </button>
                            </div>
    
                        </form>
                    </div>
                </div>
            </section>
        </section>

    </main> <!-- End #main -->
    <script src="{% static 'js/add-products-2.js' %}" defer></script>

{% endblock %}