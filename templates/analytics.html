{% extends 'base.html' %}
{% load static %}

{% block contain %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
    <link rel="stylesheet" href="{% static 'css/analytics.css' %}">


  <main id="main" class="main">
    
    <div id="dashboard-root">
        <h1 class="analytics_heading" style="color: blue;">Analytics</h1>

        <div id="timeRangeButtons">
          <button class="time-button active" data-range="Last 24 hour">Last 24 hour</button>
          <button class="time-button" data-range="Last week">Last week</button>
          <button class="time-button" data-range="Last month">Last month</button>
          <button class="time-button" data-range="Last year">Last year</button>
        </div>
        
        <!-- Stat Card Section -->
        <div id="stat-card">
          <div id="stat-values">
            <div class="icon-card">
              <div class="icon-container">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon dollar-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="12" y1="1" x2="12" y2="23"></line>
                  <path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"></path>
                </svg>
              </div>
              <div class="card-info">
                <span class="title">Total Revenue</span>
                <span id="revenueValue"></span>
                <span id="revenueChange"></span>
              </div>
            </div>

            <div class="icon-card">
              <div class="icon-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-users-icon lucide-users"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><path d="M16 3.128a4 4 0 0 1 0 7.744"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><circle cx="9" cy="7" r="4"/></svg>
              </div>
              <div class="card-info">
                <span class="title">Total Customer</span>
                <span id="customersValue"></span>
                <span id="customersChange"></span>
              </div>
            </div>

            <div class="icon-card">
              <div class="icon-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shopping-cart-icon lucide-shopping-cart"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
              </div>
              <div class="card-info">
                <span class="title">Total Transaction</span>
                <span id="transactionsValue"></span>
                <span id="transactionsChange"></span>
              </div>
            </div>

            <div class="icon-card">
              <div class="icon-container">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-icon lucide-package"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"/><path d="M12 22V12"/><polyline points="3.29 7 12 12 20.71 7"/><path d="m7.5 4.27 9 5.15"/></svg>
              </div>
              <div class="card-info">
                <span class="title">Total Product</span>
                <span id="productsValue"></span>
                <span id="productsChange"></span>
              </div>
            </div>
              
          </div>
        </div>
        
        <div class="chart-section">
          <!-- Revenue Chart Section -->
          <div class="chart-box">
            <div class="chart-header">
              <div>
                <h3 class="chart-title">Revenue Growth</h3>
                <p class="chart-subtitle" id="chart-period">Last 24 hour revenue growth with in percentage</p>
              </div>
              <button class="view-detail-btn">View detail</button>
            </div>
            <canvas id="revenueChartCanvas"></canvas>
          </div>


          <!-- Customer Growth Section -->
          <div class="chart-box">
            <div class="chart-header">
              <div>
                <h3 class="chart-title">Customer Growth</h3>
                <p class="chart-subtitle" id="customerGrowth-period">Last 24 hour customer growth with in percentage</p>
              </div>
              <button class="view-detail-btn">View detail</button>
            </div>
            <canvas id="instagramDonutChart" width="300" height="300"></canvas>
          </div>

        </div>
        
        <div class="chart-section">

          <!-- Top Transactions Section -->
           
          <div class="chart-box">
            <div class="chart-header">
              <div>
                <h3 class="chart-title">Top Transaction</h3>
                <p class="chart-subtitle" id="chart-period">Last week's top transactions</p>
              </div>
              <button class="view-detail-btn">View detail</button>
            </div>
        
            <div id="transactions" class="transactions-list"></div>
          </div>


          <!-- Top Products Section -->

          <div class="chart-box">
            <div class="chart-header">
              <div>
                <h3 class="chart-title">Top Product</h3>
                <p class="chart-subtitle" id="chart-period">Top 5 best selling products</p>
              </div>
              <button class="view-detail-btn">View detail</button>
            </div>
        
            <div class="product-grid" id="productGrid"></div>
          </div>

        </div>

      </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'js/analytics.js' %}"></script>

  </main>

{% endblock %}